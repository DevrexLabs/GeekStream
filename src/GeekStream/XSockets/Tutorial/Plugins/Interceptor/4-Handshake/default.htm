<html>
<head>
    <title>XSockets - WeAreTheRealTimeWeb</title>
    <script src="../../../Refs/Scripts/Prettify/prettify.js" type="text/javascript"></script>
    <link href="../../../Refs/Css/Prettify/prettify.css" rel="stylesheet" type="text/css" />
</head>
    <body onload="prettyPrint()">
        <a href="../../../default.htm">Tutorial Index</a>
        <h1>
            Plugins / Interceptor / HandshakeInterceptor</h1>
        <ul>
        <li><a href="../1-Basics/">../1-Basics/</a> </li>
        <li><a href="../2-Connection/">../2-Connection/</a> </li>
        <li><a href="../3-Error/">../3-Error/</a> </li>
        <li><a href="#">../4-Handshake/</a> </li>
        <li><a href="../5-Message/">../5-Message/</a> </li>
    </ul>
        <div>
            <h2>
                PreConditions</h2>
            <ol>
                <li>You have installed XSockets. <a href="../../../Basics/1-Setup/">Setup Example</a> or anything equal to this</li>
                <li>If you are NOT using the XSocketHandler project that is installed with XSockets
                    <ul>
                        <li>See to it that the assembly get copied to the pluginfolder (see XSocketHandler postbuild events)</li>
                    </ul>
                </li>
                <li>Add a refernce to XSockets.Extensibility.Interceptors.dll (found under XSocketServerPlugins)</li>
            </ol>
            <h2>Code - HandshakeInterceptor</h2>
            <ol>
                <li>
                    We just create a basic HandshakeInterceptor by using the Scaffolders (available for all interceptor types)<br/>
                    <ol>
                        <li>Open up the Package Manager Console</li>
                        <li>Write: Scaffold XHandshakeInterceptor MyHandshakeInterceptor</li>
                        <li>This will create a new HandshakeInterceptor name MyHandshakeInterceptor</li>
                    </ol>
                    <pre class="prettyprint">
[Export(typeof(IHandshakeInterceptor))]
public sealed class MyHandshakeInterceptor : XBaseInterceptor, IHandshakeInterceptor
{
    public void HandshakeCompleted(IXBaseSocket socket, IXSocketProtocol protocol)
    {
        //Implement your interceptor stuff here...
    }

    public void HandshakeInvalid(IXBaseSocket socket, IXSocketProtocol protocol)
    {
        //Implement your interceptor stuff here...
    }
}
</pre>
                </li>
            </ol>
            <b>NOTE: Read the next section <a href="../2-Debugging/default.htm">2-Debugging/</a> for knowing howto debug your plugins</b>
        </div>
    </body>
</html>
